use std
use xml

const main = {
	var x = xml.mkbuf("<!DOCTYPE testing 123>" \
			"<testing thing=\"ztuff\" foo=\"bar\" works=\"yes\">\n" \
			"<this>hello world</this>\n" \
			"<empty></empty>\n" \
			"<blah><![CDATA[this is cdata]]></blah>\n" \
			"<!-- Testing 123 -->" \
			"</testing>\n")

	for event : xml.byevent(x)
		match event
		| `std.Ok `xml.Characters c:
			std.put("\"{}\"\n", c)
		| _:
			std.put("{}\n", event)
		;;
	;;

	xml.free(x)
}
